
<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Paso 6 – Entrevista | EDUCATIC</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
<style>
      body{background:#f8fafc}
      .stepbar {height: 6px; background:#e9ecef; border-radius: 999px; overflow:hidden}
      .stepbar > div {height:100%; width:100%; background:#0d6efd}
      .sticky-header{position:sticky; top:0; z-index:1030; background:white; box-shadow: 0 1px 0 rgba(0,0,0,.06);}
      .calendar{user-select:none}
      .cal-head{display:flex; align-items:center; justify-content:space-between}
      .cal-grid{display:grid; grid-template-columns: repeat(7, 1fr); gap:.5rem}
      .cal-day, .cal-cell{display:flex; align-items:center; justify-content:center}
      .cal-day{font-weight:600; color:#6c757d; font-size:.9rem}
      .cal-cell{height:52px; border-radius:.5rem; background:white; border:1px solid #e9ecef; cursor:default}
      .cal-cell.btn-ava{cursor:pointer; border-color:#0d6efd}
      .cal-cell.btn-ava:hover{box-shadow:0 6px 18px rgba(13,110,253,.12)}
      .cal-cell.selected{outline:3px solid rgba(13,110,253,.35)}
      .cal-cell.disabled{background:#f1f3f5; color:#adb5bd; border-style:dashed}
      .slot-btn{min-width:110px}
      .legend .badge{font-weight:500}
      .summary{background:#fff; border:1px solid #e9ecef}
      .slot-list{display:flex; gap:.5rem; flex-wrap:wrap}
      .tooltip-inner{max-width: 280px; text-align:left}
    </style>
	

	
</head>
<body>
<header class="sticky-header">
<div class="container py-3">
<div class="d-flex align-items-center justify-content-between">
<div class="d-flex align-items-center gap-3"><img alt="Logo de Educatic" height="80" src="https://www.educatic.com.co/assets/images/logo.png" style="width:auto;"/><div><h1 class="h5 mb-1">Proceso de Inscripción – EDUCATIC</h1>
<div class="small text-secondary">Paso 6 de 6 · Entrevista</div>
</div>
</div>
<span class="text-success d-none" id="stepCheck">✓ Completado</span>
</div>
<div aria-hidden="true" class="stepbar mt-3">
<div id="progressFill"></div>
</div>
</div>


<div class="border-top border-bottom bg-light" id="guidanceBanner">
<div class="container py-2 small d-flex align-items-center gap-2">
<i class="bi bi-compass"></i>
<span>Paso 6 – Entrevista · Agendemos tu entrevista. Este es el momento para mostrar tu motivación y resolver todas tus dudas.</span>
</div>
</div>



</header>

<main class="container my-4">
<form id="formPaso6" novalidate="">
<div class="row g-4">
<div class="col-lg-7">
<section class="card shadow-sm calendar">
<div class="card-body">
<div class="cal-head mb-3">
<button class="btn btn-outline-secondary btn-sm" id="btnPrev" type="button">Mes anterior</button>
<div class="text-center">
<div class="h5 mb-0" id="calTitle">—</div>
<div class="small text-secondary">Selecciona un día disponible</div>
</div>
<button class="btn btn-outline-secondary btn-sm" id="btnNext" type="button">Mes siguiente</button>
</div>
<div class="cal-grid mb-2">
<div class="cal-day">Lun</div>
<div class="cal-day">Mar</div>
<div class="cal-day">Mié</div>
<div class="cal-day">Jue</div>
<div class="cal-day">Vie</div>
<div class="cal-day">Sáb</div>
<div class="cal-day">Dom</div>
</div>
<div class="cal-grid" id="calGrid"></div>
<div class="legend mt-3 small">
<span class="badge text-bg-primary">Disponible</span>
<span class="badge text-bg-secondary">No disponible</span>
</div>
</div>
</section>
</div>
<div class="col-lg-5">
<section class="card shadow-sm">
<div class="card-body">
<h2 class="h6 mb-3">Horarios disponibles</h2>
<div class="slot-list" id="slots"></div>
<hr/>
<div class="summary rounded p-3">
<div class="d-flex align-items-start justify-content-between">
<div>
<div class="small text-secondary">Tu selección</div>
<div class="fw-semibold" id="resumenSel">—</div>
<div class="small text-secondary mt-1">Modalidad: Virtual o presencial según programa.</div>
</div>
<span class="badge text-bg-info" data-bs-toggle="tooltip" title="Puedes reagendar una vez hasta 24h antes de la cita, sujeto a disponibilidad.">Política de reagendamiento</span>
</div>
</div>
<div class="form-check mt-3">
<input class="form-check-input" id="chkConfirma" required="" type="checkbox"/>
<label class="form-check-label" for="chkConfirma">
                    Confirmo mi asistencia a la entrevista y acepto las políticas.
                  </label>
</div>
<div class="invalid-feedback d-block" id="confError" style="display:none;">Debes confirmar tu asistencia.</div>
<div class="d-flex justify-content-end gap-2 mt-3">
<a class="btn btn-outline-secondary" href="mockup_paso5_educatic_bootstrap.html" id="btnAtras">Atrás</a>
<button class="btn btn-success" disabled="" id="btnConfirmar" type="submit">Confirmar y continuar</button>
</div>
<div class="alert alert-success mt-3 d-none" id="alertOk">
                  ¡Entrevista confirmada! Te enviaremos un correo con el detalle de la cita.
                </div>
</div>
</section>
</div>
</div>
</form>
</main>

    <footer class="disclaimer py-4 border-top">
      <div class="container">
        <div class="small text-muted mb-2">
          <strong>Disclaimer:</strong> Este prototipo forma parte del modelo en la nube de EDUCATIC, disponible bajo modalidad SaaS.
          Su modernización tecnológica está incluida para los clientes con contrato vigente de soporte e infraestructura,
          lo que les permite acceder a la última versión sin costos adicionales de actualización.
        </div>
        <div class="small text-end">2025© Todos los Derechos Reservados</div>
        <div class="text-end mt-1">
          <img src="https://clientes.educatic.com.co/sao/images/allrights.png" alt="" border="0" style="height:16px;">
        </div>
      </div>
    </footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
      // Progreso completo
      document.getElementById('progressFill').style.width = '100%';
      const stepCheck = document.getElementById('stepCheck');
      const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
      tooltipTriggerList.map(el => new bootstrap.Tooltip(el));

      // Helpers de fecha
      const MONTHS = ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'];
      function startOfMonth(d){ return new Date(d.getFullYear(), d.getMonth(), 1); }
      function endOfMonth(d){ return new Date(d.getFullYear(), d.getMonth()+1, 0); }
      function addMonths(d, m){ return new Date(d.getFullYear(), d.getMonth()+m, 1); }

      // Disponibilidad demo (YYYY-MM-DD: ['HH:MM', ...])
      const disponibilidad = {
        // Mes actual y siguiente tendrán algunas fechas
      };
      (function seedDisponibilidad(){
        const today = new Date();
        const y = today.getFullYear();
        const m = today.getMonth(); // 0-based
        function dateKey(y, m, d){
          return y + '-' + String(m+1).padStart(2,'0') + '-' + String(d).padStart(2,'0');
        }
        // Crear algunos días disponibles
        const hours = ['08:00','09:00','10:30','14:00','15:30'];
        for (let i=2;i<=26;i+=3){ // cada 3 días
          disponibilidad[dateKey(y,m,i)] = hours.slice(0, 3 + (i%2));
        }
        for (let i=3;i<=24;i+=4){ // mes siguiente
          const next = addMonths(new Date(y,m,1),1);
          disponibilidad[dateKey(next.getFullYear(), next.getMonth(), i)] = hours.slice(0, 2 + (i%3));
        }
      })();

      // Estado UI
      let current = startOfMonth(new Date());
      let selectedDate = null;
      let selectedSlot = null;

      const calTitle = document.getElementById('calTitle');
      const calGrid = document.getElementById('calGrid');
      const slots = document.getElementById('slots');
      const resumenSel = document.getElementById('resumenSel');
      const chkConfirma = document.getElementById('chkConfirma');
      const confError = document.getElementById('confError');
      const btnConfirmar = document.getElementById('btnConfirmar');
      const alertOk = document.getElementById('alertOk');

      function renderCalendar(){
        calTitle.textContent = MONTHS[current.getMonth()] + ' ' + current.getFullYear();
        calGrid.innerHTML = '';
        const first = startOfMonth(current);
        const last = endOfMonth(current);
        let startIndex = (first.getDay() + 6) % 7; // convertir a 0=Lun ... 6=Dom
        const totalCells = startIndex + last.getDate();
        for (let i=0; i<totalCells; i++){
          const cell = document.createElement('div');
          cell.className = 'cal-cell disabled';
          if (i < startIndex){
            cell.textContent = '';
          } else {
            const day = i - startIndex + 1;
            cell.textContent = day;
            const key = keyFor(current.getFullYear(), current.getMonth(), day);
            const ava = !!disponibilidad[key];
            cell.className = 'cal-cell ' + (ava ? 'btn-ava' : 'disabled');
            if (ava){
              cell.tabIndex = 0;
              cell.setAttribute('role','button');
              cell.setAttribute('aria-label', 'Disponible ' + formatDate(current.getFullYear(), current.getMonth(), day));
              cell.addEventListener('click', ()=>selectDate(key, cell));
              cell.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); selectDate(key, cell); } });
              if (selectedDate === key){ cell.classList.add('selected'); }
            }
          }
          calGrid.appendChild(cell);
        }
      }

      function keyFor(y, m, d){ return y + '-' + String(m+1).padStart(2,'0') + '-' + String(d).padStart(2,'0'); }
      function formatDate(y, m, d){
        const dt = new Date(y, m, d);
        return dt.toLocaleDateString('es-CO', {weekday:'long', year:'numeric', month:'long', day:'numeric'});
      }

      function selectDate(key, el){
        selectedDate = key;
        selectedSlot = null;
        slots.innerHTML = '';
        calGrid.querySelectorAll('.cal-cell').forEach(c => c.classList.remove('selected'));
        el.classList.add('selected');
        const arr = disponibilidad[key] || [];
        if (arr.length === 0){
          slots.innerHTML = '<div class="text-secondary small">No hay horarios para este día.</div>';
          resumenSel.textContent = '—';
        } else {
          arr.forEach(h => {
            const b = document.createElement('button');
            b.type = 'button';
            b.className = 'btn btn-outline-primary slot-btn';
            b.textContent = h;
            b.addEventListener('click', ()=>{
              selectedSlot = h;
              document.querySelectorAll('.slot-btn').forEach(x=>x.classList.remove('btn-primary'));
              b.classList.add('btn-primary');
              resumenSel.textContent = formatearResumen(key, h);
              toggleConfirmar();
            });
            slots.appendChild(b);
          });
          resumenSel.textContent = 'Selecciona un horario';
        }
        toggleConfirmar();
      }

      function formatearResumen(key, h){
        const [y,m,d] = key.split('-').map(n=>parseInt(n,10));
        const fecha = new Date(y, m-1, d);
        const fechaTxt = fecha.toLocaleDateString('es-CO', {weekday:'long', year:'numeric', month:'long', day:'numeric'});
        return fechaTxt.charAt(0).toUpperCase() + fechaTxt.slice(1) + ' · ' + h + ' (hora local)';
      }

      function toggleConfirmar(){
        const ok = !!selectedDate && !!selectedSlot && chkConfirma.checked;
        btnConfirmar.disabled = !ok;
      }

      document.getElementById('btnPrev').addEventListener('click', ()=>{ current = addMonths(current, -1); renderCalendar(); });
      document.getElementById('btnNext').addEventListener('click', ()=>{ current = addMonths(current, +1); renderCalendar(); });

      chkConfirma.addEventListener('change', ()=>{
        confError.style.display = chkConfirma.checked ? 'none' : '';
        toggleConfirmar();
      });

      document.getElementById('formPaso6').addEventListener('submit', (e)=>{
        e.preventDefault();
        if (btnConfirmar.disabled){ confError.style.display=''; return; }
        alertOk.classList.remove('d-none');
        stepCheck.classList.remove('d-none');
      });

      // Inicial
      renderCalendar();
    </script>
</body>
</html>
